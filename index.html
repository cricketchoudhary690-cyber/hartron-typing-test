<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hartron Typing Test Master - Free Typing Practice</title>
<link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Source+Code+Pro:wght@400;600&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --navy: #0d2d5e;
    --blue: #1a4fa0;
    --sky: #2d7dd2;
    --accent: #e8a320;
    --green: #2ecc71;
    --red: #e74c3c;
    --light: #f0f5fc;
    --white: #ffffff;
    --text: #1a2a3a;
    --muted: #7a8a9a;
    --border: #cdd8e8;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Nunito', sans-serif;
    background: var(--light);
    color: var(--text);
    min-height: 100vh;
  }

  /* Header */
  header {
    background: linear-gradient(135deg, var(--navy) 0%, var(--blue) 100%);
    color: white;
    padding: 0;
    box-shadow: 0 3px 15px rgba(13,45,94,0.4);
  }

  .header-top {
    background: var(--navy);
    padding: 8px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    opacity: 0.85;
  }

  .header-main {
    padding: 16px 20px;
    display: flex;
    align-items: center;
    gap: 16px;
    max-width: 1100px;
    margin: 0 auto;
  }

  .logo-icon {
    width: 58px;
    height: 58px;
    background: var(--accent);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 26px;
    font-weight: 800;
    color: var(--navy);
    flex-shrink: 0;
  }

  .site-title h1 {
    font-size: 22px;
    font-weight: 800;
    letter-spacing: 0.5px;
  }

  .site-title p {
    font-size: 12px;
    opacity: 0.75;
    margin-top: 2px;
  }

  nav {
    background: var(--blue);
    padding: 0 20px;
  }

  nav ul {
    display: flex;
    gap: 0;
    list-style: none;
    max-width: 1100px;
    margin: 0 auto;
  }

  nav a {
    display: block;
    color: rgba(255,255,255,0.85);
    text-decoration: none;
    padding: 11px 18px;
    font-size: 13.5px;
    font-weight: 600;
    transition: all 0.2s;
    border-bottom: 3px solid transparent;
  }

  nav a:hover, nav a.active {
    color: white;
    background: rgba(255,255,255,0.1);
    border-bottom-color: var(--accent);
  }

  /* Layout */
  .container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 24px 20px;
    display: grid;
    grid-template-columns: 1fr 280px;
    gap: 24px;
  }

  /* Cards */
  .card {
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 12px rgba(13,45,94,0.08);
    overflow: hidden;
  }

  .card-header {
    background: linear-gradient(135deg, var(--navy), var(--blue));
    color: white;
    padding: 14px 20px;
    font-size: 15px;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .card-body { padding: 20px; }

  /* Test Selector */
  .test-tabs {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 20px;
  }

  .test-tab {
    padding: 7px 14px;
    border: 2px solid var(--border);
    border-radius: 6px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 600;
    color: var(--blue);
    background: white;
    transition: all 0.2s;
  }

  .test-tab:hover { border-color: var(--sky); background: var(--light); }
  .test-tab.active { background: var(--blue); color: white; border-color: var(--blue); }

  /* Language Toggle */
  .lang-toggle {
    display: flex;
    gap: 10px;
    margin-bottom: 16px;
  }

  .lang-btn {
    padding: 8px 20px;
    border: 2px solid var(--border);
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 700;
    background: white;
    color: var(--muted);
    transition: all 0.2s;
  }

  .lang-btn.active { background: var(--accent); color: white; border-color: var(--accent); }

  /* Timer & Stats Bar */
  .stats-bar {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin-bottom: 18px;
  }

  .stat-box {
    background: var(--light);
    border: 2px solid var(--border);
    border-radius: 8px;
    padding: 12px;
    text-align: center;
  }

  .stat-box .val {
    font-size: 24px;
    font-weight: 800;
    color: var(--navy);
    font-family: 'Source Code Pro', monospace;
  }

  .stat-box .lbl {
    font-size: 11px;
    color: var(--muted);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-top: 2px;
  }

  .stat-box.timer .val { color: var(--blue); }
  .stat-box.wpm .val { color: var(--green); }
  .stat-box.errors .val { color: var(--red); }

  /* Passage Display */
  .passage-box {
    background: #fafcff;
    border: 2px solid var(--border);
    border-radius: 8px;
    padding: 18px;
    margin-bottom: 16px;
    font-family: 'Merriweather', serif;
    font-size: 15px;
    line-height: 1.9;
    user-select: none;
    min-height: 120px;
    position: relative;
  }

  .passage-box span { transition: background 0.1s; }
  .char-correct { color: var(--green); }
  .char-wrong { color: var(--red); background: #fdecea; border-radius: 2px; }
  .char-current {
    background: var(--accent);
    color: white;
    border-radius: 2px;
    animation: blink 0.8s infinite;
  }

  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  /* Input Area */
  .type-area {
    width: 100%;
    padding: 14px 16px;
    font-family: 'Source Code Pro', monospace;
    font-size: 15px;
    border: 2px solid var(--border);
    border-radius: 8px;
    resize: none;
    height: 110px;
    outline: none;
    transition: border-color 0.2s;
    line-height: 1.7;
  }

  .type-area:focus { border-color: var(--sky); box-shadow: 0 0 0 3px rgba(45,125,210,0.12); }
  .type-area:disabled { background: #f5f5f5; cursor: not-allowed; }

  /* Buttons */
  .btn-row {
    display: flex;
    gap: 10px;
    margin-top: 14px;
    flex-wrap: wrap;
  }

  .btn {
    padding: 11px 24px;
    border: none;
    border-radius: 7px;
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    font-family: 'Nunito', sans-serif;
  }

  .btn-primary { background: var(--blue); color: white; }
  .btn-primary:hover { background: var(--navy); transform: translateY(-1px); }
  .btn-success { background: var(--green); color: white; }
  .btn-success:hover { background: #27ae60; }
  .btn-warning { background: var(--accent); color: white; }
  .btn-warning:hover { background: #d4941a; }
  .btn-danger { background: var(--red); color: white; }
  .btn-danger:hover { background: #c0392b; }
  .btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

  /* Result Panel */
  .result-panel {
    display: none;
    background: linear-gradient(135deg, #e8f5e9, #f0fff4);
    border: 2px solid var(--green);
    border-radius: 10px;
    padding: 20px;
    margin-top: 18px;
    text-align: center;
  }

  .result-panel.show { display: block; animation: fadeIn 0.4s ease; }
  .result-panel.fail { background: linear-gradient(135deg, #fdecea, #fff5f5); border-color: var(--red); }

  @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

  .result-title { font-size: 22px; font-weight: 800; margin-bottom: 12px; }
  .result-title.pass { color: var(--green); }
  .result-title.fail { color: var(--red); }

  .result-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    margin-top: 14px;
  }

  .result-item {
    background: white;
    border-radius: 8px;
    padding: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  }

  .result-item .num { font-size: 26px; font-weight: 800; font-family: 'Source Code Pro', monospace; }
  .result-item .desc { font-size: 12px; color: var(--muted); font-weight: 600; margin-top: 2px; }

  /* Sidebar */
  .sidebar { display: flex; flex-direction: column; gap: 18px; }

  .info-list { list-style: none; }
  .info-list li {
    padding: 9px 0;
    border-bottom: 1px solid var(--border);
    font-size: 13.5px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .info-list li:last-child { border-bottom: none; }
  .info-list .badge {
    background: var(--blue);
    color: white;
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 700;
  }

  .info-list .badge.green { background: var(--green); }
  .info-list .badge.amber { background: var(--accent); color: white; }

  .test-list-sidebar { list-style: none; }
  .test-list-sidebar li { margin-bottom: 6px; }
  .test-list-sidebar a {
    display: block;
    padding: 8px 12px;
    border-radius: 6px;
    text-decoration: none;
    color: var(--blue);
    font-size: 13.5px;
    font-weight: 600;
    background: var(--light);
    transition: all 0.2s;
    cursor: pointer;
  }

  .test-list-sidebar a:hover { background: var(--blue); color: white; }
  .test-list-sidebar a.active { background: var(--navy); color: white; }

  /* Progress bar */
  .progress-wrap { margin: 10px 0 14px; }
  .progress-label { display: flex; justify-content: space-between; font-size: 12px; color: var(--muted); margin-bottom: 5px; }
  .progress-bar { height: 8px; background: var(--border); border-radius: 4px; overflow: hidden; }
  .progress-fill { height: 100%; background: linear-gradient(90deg, var(--sky), var(--green)); border-radius: 4px; transition: width 0.3s; width: 0%; }

  /* Instructions */
  .instructions {
    background: #fff8e8;
    border-left: 4px solid var(--accent);
    border-radius: 0 8px 8px 0;
    padding: 14px 16px;
    margin-bottom: 18px;
    font-size: 13px;
    line-height: 1.7;
    color: #5a4000;
  }

  .instructions strong { color: var(--navy); }

  /* Footer */
  footer {
    background: var(--navy);
    color: rgba(255,255,255,0.7);
    text-align: center;
    padding: 18px;
    font-size: 13px;
    margin-top: 30px;
  }

  footer strong { color: white; }

  @media (max-width: 768px) {
    .container { grid-template-columns: 1fr; }
    .stats-bar { grid-template-columns: repeat(2, 1fr); }
    .result-grid { grid-template-columns: repeat(2, 1fr); }
  }
</style>
</head>
<body>

<header>
  <div class="header-top">
    <span>üèõÔ∏è HARTRON ‚Äî Haryana State Electronics Development Corporation Ltd.</span>
    <span>Hartron Typing Test Master</span>
  </div>
  <div class="header-main">
    <div class="logo-icon">TT</div>
    <div class="site-title">
      <h1>Hartron Typing Test Master</h1>
      <p>Free Online Typing Practice for Haryana Government Clerks & Employees</p>
    </div>
  </div>
  <nav>
    <ul>
      <li><a href="#" class="active">üè† Home</a></li>
      <li><a href="#">‚å®Ô∏è Typing Tests</a></li>
      <li><a href="#">üìÑ Hartron Info</a></li>
      <li><a href="#">üìö Study Material</a></li>
      <li><a href="#">üìû Contact</a></li>
    </ul>
  </nav>
</header>

<div class="container">
  <!-- Main Content -->
  <main>
    <div class="card" style="margin-bottom:20px;">
      <div class="card-header">‚å®Ô∏è Hartron Typing Test Master ‚Äî Practice Area</div>
      <div class="card-body">

        <div class="instructions">
          <strong>Instructions:</strong> Select a test number below, choose your language (English/Hindi), then click <strong>Start Test</strong>. 
          Type the passage exactly as shown. Minimum speed: <strong>30 WPM (English)</strong> | <strong>25 WPM (Hindi)</strong>. 
          Formula: WPM = (Total Words Typed ‚àí Mistakes) √∑ Time (min).
        </div>

        <!-- Test Selector -->
        <div style="margin-bottom:14px;">
          <div style="font-size:13px;font-weight:700;color:var(--navy);margin-bottom:8px;">Select Test Number:</div>
          <div class="test-tabs" id="testTabs"></div>
        </div>

        <!-- Language Toggle -->
        <div class="lang-toggle">
          <button class="lang-btn active" onclick="setLang('en', this)">üá¨üáß English</button>
          <button class="lang-btn" onclick="setLang('hi', this)">üáÆüá≥ Hindi</button>
        </div>

        <!-- Stats Bar -->
        <div class="stats-bar">
          <div class="stat-box timer">
            <div class="val" id="timerDisplay">10:00</div>
            <div class="lbl">‚è± Time Left</div>
          </div>
          <div class="stat-box wpm">
            <div class="val" id="wpmDisplay">0</div>
            <div class="lbl">üìä WPM</div>
          </div>
          <div class="stat-box errors">
            <div class="val" id="errDisplay">0</div>
            <div class="lbl">‚ùå Mistakes</div>
          </div>
          <div class="stat-box">
            <div class="val" id="accDisplay">100%</div>
            <div class="lbl">‚úÖ Accuracy</div>
          </div>
        </div>

        <!-- Progress -->
        <div class="progress-wrap">
          <div class="progress-label">
            <span>Progress</span>
            <span id="progressLabel">0%</span>
          </div>
          <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
        </div>

        <!-- Passage Display -->
        <div class="passage-box" id="passageDisplay">
          Click "Start Test" to begin your typing test. The passage will appear here and you will type in the box below.
        </div>

        <!-- Typing Input -->
        <textarea class="type-area" id="typeInput" placeholder="Start typing here after clicking Start Test..." disabled></textarea>

        <!-- Buttons -->
        <div class="btn-row">
          <button class="btn btn-success" id="startBtn" onclick="startTest()">‚ñ∂ Start Test</button>
          <button class="btn btn-warning" id="resetBtn" onclick="resetTest()">‚Ü∫ Reset</button>
          <button class="btn btn-primary" onclick="nextTest()">‚Üí Next Test</button>
        </div>

        <!-- Result Panel -->
        <div class="result-panel" id="resultPanel">
          <div class="result-title" id="resultTitle"></div>
          <div id="resultMsg"></div>
          <div class="result-grid">
            <div class="result-item">
              <div class="num" id="r-wpm">0</div>
              <div class="desc">WPM (Speed)</div>
            </div>
            <div class="result-item">
              <div class="num" id="r-mistakes">0</div>
              <div class="desc">Mistakes</div>
            </div>
            <div class="result-item">
              <div class="num" id="r-accuracy">0%</div>
              <div class="desc">Accuracy</div>
            </div>
            <div class="result-item">
              <div class="num" id="r-cw">0</div>
              <div class="desc">Correct Words (CW)</div>
            </div>
            <div class="result-item">
              <div class="num" id="r-tw">0</div>
              <div class="desc">Total Words (TW)</div>
            </div>
            <div class="result-item">
              <div class="num" id="r-time">0s</div>
              <div class="desc">Time Taken</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Hartron Info Card -->
    <div class="card">
      <div class="card-header">üìã About Hartron Typing Test Master</div>
      <div class="card-body" style="font-size:14px;line-height:1.8;color:#2a3a4a;">
        <p>The <strong>Hartron Typing Test Master</strong> is conducted by Haryana State Electronics Development Corporation Limited (HARTRON) for Haryana Government clerks and employees.</p>
        <br>
        <p><strong>Typing Speed Formula:</strong><br>
        WPM = (Total Typed Words ‚àí Mistakes) √∑ Time (minutes)<br>
        Where: CW = Correct Words | TW = Total Words | TM = Total Mistakes</p>
        <br>
        <p><strong>Minimum Speed Required:</strong></p>
        <ul style="margin-left:20px;margin-top:6px;">
          <li>English: <strong>30 words per minute</strong></li>
          <li>Hindi: <strong>25 words per minute</strong></li>
        </ul>
      </div>
    </div>
  </main>

  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="card">
      <div class="card-header">üìä Test Requirements</div>
      <div class="card-body">
        <ul class="info-list">
          <li><span>English Min. Speed</span><span class="badge green">30 WPM</span></li>
          <li><span>Hindi Min. Speed</span><span class="badge amber">25 WPM</span></li>
          <li><span>Test Duration</span><span class="badge">10 Min</span></li>
          <li><span>Test Mode</span><span class="badge">Online</span></li>
          <li><span>Conducting Body</span><span class="badge">HARTRON</span></li>
        </ul>
      </div>
    </div>

    <div class="card">
      <div class="card-header">üìù All Practice Tests</div>
      <div class="card-body" style="padding:14px;">
        <ul class="test-list-sidebar" id="sidebarTestList"></ul>
      </div>
    </div>

    <div class="card">
      <div class="card-header">üí° Typing Tips</div>
      <div class="card-body" style="font-size:13px;line-height:1.75;color:#2a3a4a;">
        <p>üñê Keep fingers on <strong>home row</strong> (ASDF JKL;)</p>
        <br>
        <p>üëÄ Read <strong>2-3 words ahead</strong> while typing</p>
        <br>
        <p>‚ö° Focus on <strong>accuracy first</strong>, then speed</p>
        <br>
        <p>üéØ Practice daily for <strong>15-30 minutes</strong></p>
        <br>
        <p>üîÑ Use all fingers ‚Äî avoid <strong>hunt and peck</strong></p>
      </div>
    </div>
  </aside>
</div>

<footer>
  <strong>Hartron Typing Test Master</strong> ‚Äî Free Practice for Haryana Government Employees<br>
  <span style="font-size:11px;">Disclaimer: This is a free practice platform. For official Hartron exam registration, visit <strong>hartron.org.in</strong></span>
</footer>

<script>
// ===================== PASSAGE DATA =====================
const passages = {
  en: [
    "The Government of Haryana has taken several important steps to improve the standard of administration in the state. The use of computers and information technology has become an essential part of modern governance. Every government employee is required to have a basic level of computer literacy to perform their duties effectively. The Hartron Typing Test Master is conducted by HARTRON to evaluate the skills of government employees. Candidates must achieve a minimum typing speed of thirty words per minute in English and twenty five words per minute in Hindi. Regular practice and dedication are the keys to success in this examination. Government offices across the state have been modernized with the latest computer equipment and software. Employees are encouraged to attend training programs to sharpen their computer and typing skills. The digital transformation of government services has made it necessary for all staff members to adapt to new technologies.",
    "Haryana State Electronics Development Corporation Limited known as HARTRON was established to promote the use of electronics and information technology in the state of Haryana. The corporation conducts various examinations and training programs for government employees to enhance their skills in computer applications and data entry operations. The online examination system has made it easier for candidates to appear in government tests from multiple centers across the state. Candidates are required to bring their identity card and employment proof at the time of the examination. The biometric attendance system is used to verify the identity of all candidates appearing for the Hartron Typing Test. Data entry operators play a very important role in digitizing and organizing government information. Their work ensures that important records are preserved and accessible to authorized personnel whenever required. Computer literacy is now a basic requirement for all government jobs in Haryana.",
    "India is a democratic country where the government is elected by the people through free and fair elections. The constitution of India guarantees fundamental rights to every citizen of this great nation. The judiciary is independent and ensures that justice is delivered to all without fear or favor. Every citizen has the right to vote and actively participate in the democratic process of the nation. Computer literacy has become a basic requirement for employment in the modern digital world. Young people must learn typing skills and basic computer operations to remain competitive in the job market. Schools and colleges across the country are now incorporating computer education into their regular curriculum to prepare students for future careers. The digital revolution has completely transformed the way we work communicate and access information. Government departments are rapidly moving towards paperless offices and e governance solutions.",
  ],
  hi: [
    "‡§π‡§∞‡§ø‡§Ø‡§æ‡§£‡§æ ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§®‡§ø‡§ï‡•ç‡§∏ ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§®‡§ø‡§ó‡§Æ ‡§≤‡§ø‡§Æ‡§ø‡§ü‡•á‡§° ‡§ï‡•ã ‡§π‡§æ‡§∞‡•ç‡§ü‡•ç‡§∞‡•â‡§® ‡§ï‡•á ‡§®‡§æ‡§Æ ‡§∏‡•á ‡§ú‡§æ‡§®‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§®‡§ø‡§ó‡§Æ ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§ï‡§∞‡•ç‡§Æ‡§ö‡§æ‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§î‡§∞ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ‡§è‡§Ç ‡§Ü‡§Ø‡•ã‡§ú‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§Æ‡•á‡§Ç ‡§∏‡•Ç‡§ö‡§®‡§æ ‡§™‡•ç‡§∞‡•å‡§¶‡•ç‡§Ø‡•ã‡§ó‡§ø‡§ï‡•Ä ‡§ï‡•á ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡•ã ‡§¨‡§¢‡§º‡§æ‡§µ‡§æ ‡§¶‡•á‡§®‡§æ ‡§á‡§∏ ‡§®‡§ø‡§ó‡§Æ ‡§ï‡§æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø ‡§π‡•à‡•§ ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§∏‡§æ‡§ï‡•ç‡§∑‡§∞‡§§‡§æ ‡§Ü‡§ú ‡§ï‡•á ‡§Ø‡•Å‡§ó ‡§Æ‡•á‡§Ç ‡§¨‡§π‡•Å‡§§ ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•ã ‡§ó‡§à ‡§π‡•à‡•§ ‡§π‡§∞‡§ø‡§Ø‡§æ‡§£‡§æ ‡§∏‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•á ‡§∏‡§≠‡•Ä ‡§ï‡§∞‡•ç‡§Æ‡§ö‡§æ‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§ï‡§æ ‡§¨‡•Å‡§®‡§ø‡§Ø‡§æ‡§¶‡•Ä ‡§ú‡•ç‡§û‡§æ‡§® ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§ ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§™‡§æ‡§§‡•ç‡§∞‡§§‡§æ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§Æ‡•á‡§Ç ‡§â‡§§‡•ç‡§§‡•Ä‡§∞‡•ç‡§£ ‡§π‡•ã‡§®‡§æ ‡§∏‡§≠‡•Ä ‡§ï‡•ç‡§≤‡§∞‡•ç‡§ï‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§π‡•à‡•§ ‡§á‡§∏‡§∏‡•á ‡§™‡•ç‡§∞‡§∂‡§æ‡§∏‡§® ‡§ï‡•Ä ‡§ó‡•Å‡§£‡§µ‡§§‡•ç‡§§‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§ß‡§æ‡§∞ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§æ‡§≤‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§§‡•á‡§ú‡•Ä ‡§∏‡•á ‡§¨‡§¢‡§º ‡§∞‡§π‡§æ ‡§π‡•à‡•§ ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§ï‡§∞‡•ç‡§Æ‡§ö‡§æ‡§∞‡•Ä ‡§ï‡•ã ‡§Ö‡§™‡§®‡•á ‡§ï‡•å‡§∂‡§≤ ‡§ï‡•ã ‡§®‡§ø‡§∞‡§Ç‡§§‡§∞ ‡§µ‡§ø‡§ï‡§∏‡§ø‡§§ ‡§ï‡§∞‡§§‡•á ‡§∞‡§π‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§",
    "‡§ü‡§Ç‡§ï‡§£ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§Æ‡•á‡§Ç ‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§ó‡§§‡§ø ‡§Ö‡§Ç‡§ó‡•ç‡§∞‡•á‡§ú‡•Ä ‡§Æ‡•á‡§Ç ‡§§‡•Ä‡§∏ ‡§∂‡§¨‡•ç‡§¶ ‡§™‡•ç‡§∞‡§§‡§ø ‡§Æ‡§ø‡§®‡§ü ‡§î‡§∞ ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§™‡§ö‡•ç‡§ö‡•Ä‡§∏ ‡§∂‡§¨‡•ç‡§¶ ‡§™‡•ç‡§∞‡§§‡§ø ‡§Æ‡§ø‡§®‡§ü ‡§π‡•ã‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è‡•§ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ‡§∞‡•ç‡§•‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§ ‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ ‡§î‡§∞ ‡§ó‡§§‡§ø ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§ï‡§æ ‡§∏‡§Æ‡§æ‡§® ‡§Æ‡§π‡§§‡•ç‡§µ ‡§π‡•à‡•§ ‡§™‡•ç‡§∞‡§§‡§ø‡§¶‡§ø‡§® ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§∏‡•á ‡§ü‡§æ‡§á‡§™‡§ø‡§Ç‡§ó ‡§ï‡•å‡§∂‡§≤ ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§∞‡§Ç‡§§‡§∞ ‡§∏‡•Å‡§ß‡§æ‡§∞ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ ‡§≠‡§æ‡§∞‡§§ ‡§è‡§ï ‡§≤‡•ã‡§ï‡§§‡§æ‡§Ç‡§§‡•ç‡§∞‡§ø‡§ï ‡§¶‡•á‡§∂ ‡§π‡•à ‡§ú‡§π‡§æ‡§Å ‡§∏‡§∞‡§ï‡§æ‡§∞ ‡§ú‡§®‡§§‡§æ ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§ö‡•Å‡§®‡•Ä ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡•§ ‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï ‡§ï‡•ã ‡§Æ‡•å‡§≤‡§ø‡§ï ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ ‡§®‡•ç‡§Ø‡§æ‡§Ø‡§™‡§æ‡§≤‡§ø‡§ï‡§æ ‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§π‡•à ‡§î‡§∞ ‡§Ø‡§π ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à ‡§ï‡§ø ‡§®‡•ç‡§Ø‡§æ‡§Ø ‡§¨‡§ø‡§®‡§æ ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•á‡§¶‡§≠‡§æ‡§µ ‡§ï‡•á ‡§∏‡§≠‡•Ä ‡§ï‡•ã ‡§Æ‡§ø‡§≤‡•á‡•§ ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï ‡§ï‡•ã ‡§Æ‡§§‡§¶‡§æ‡§® ‡§ï‡§æ ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§π‡•à ‡§î‡§∞ ‡§â‡§∏‡•á ‡§á‡§∏ ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§",
    "‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§æ‡§≤‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡§ü‡•Ä‡§ï ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§¨‡§®‡§æ‡§è ‡§∞‡§ñ‡§®‡§æ ‡§¨‡§π‡•Å‡§§ ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à‡•§ ‡§°‡•á‡§ü‡§æ ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä ‡§ë‡§™‡§∞‡•á‡§ü‡§∞ ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§ï‡•ã ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∞‡•Ç‡§™ ‡§¶‡•á‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ ‡§®‡§ø‡§≠‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§â‡§®‡§ï‡§æ ‡§ï‡§æ‡§Æ ‡§Ø‡§π ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§π‡•á‡§Ç ‡§î‡§∞ ‡§Ö‡§ß‡§ø‡§ï‡•É‡§§ ‡§ï‡§∞‡•ç‡§Æ‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§ú‡§¨ ‡§≠‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•ã‡§Ç‡•§ ‡§π‡§∞‡§ø‡§Ø‡§æ‡§£‡§æ ‡§∏‡§∞‡§ï‡§æ‡§∞ ‡§®‡•á ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∂‡§æ‡§∏‡§® ‡§ï‡•ã ‡§¨‡§¢‡§º‡§æ‡§µ‡§æ ‡§¶‡•á‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§à ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡•Ä ‡§π‡•à‡§Ç‡•§ ‡§á‡§® ‡§Ø‡•ã‡§ú‡§®‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§§‡§π‡§§ ‡§∏‡§≠‡•Ä ‡§ï‡§∞‡•ç‡§Æ‡§ö‡§æ‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§¶‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§ ‡§Ø‡•Å‡§µ‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§ü‡§æ‡§á‡§™‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§ï‡•å‡§∂‡§≤ ‡§∏‡•Ä‡§ñ‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è ‡§§‡§æ‡§ï‡§ø ‡§µ‡•á ‡§∞‡•ã‡§ú‡§ó‡§æ‡§∞ ‡§ï‡•á ‡§Ö‡§µ‡§∏‡§∞‡•ã‡§Ç ‡§ï‡§æ ‡§≤‡§æ‡§≠ ‡§â‡§†‡§æ ‡§∏‡§ï‡•á‡§Ç‡•§ ‡§∏‡•ç‡§ï‡•Ç‡§≤ ‡§î‡§∞ ‡§ï‡•â‡§≤‡•á‡§ú ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ ‡§ï‡•ã ‡§Ö‡§™‡§®‡•á ‡§™‡§æ‡§†‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§®‡•å‡§ï‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§ú‡•ç‡§û‡§æ‡§® ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§",
  ]
};

const testCount = 3;
let currentTest = 1;
let currentLang = 'en';
let timer = null;
let timeLeft = 600; // 10 minutes
let testStarted = false;
let testFinished = false;
let startTime = null;

// Build test tabs and sidebar
function buildTabs() {
  const tabs = document.getElementById('testTabs');
  const sidebar = document.getElementById('sidebarTestList');
  tabs.innerHTML = '';
  sidebar.innerHTML = '';
  for (let i = 1; i <= testCount; i++) {
    const tb = document.createElement('div');
    tb.className = 'test-tab' + (i === 1 ? ' active' : '');
    tb.textContent = 'Test ' + i;
    tb.onclick = () => selectTest(i);
    tabs.appendChild(tb);

    const li = document.createElement('li');
    li.innerHTML = `<a class="${i===1?'active':''}" onclick="selectTest(${i})">üìÑ Hartron Typing Test Master ${i}</a>`;
    sidebar.appendChild(li);
  }
}

function selectTest(n) {
  currentTest = n;
  resetTest();
  // Update active state
  document.querySelectorAll('.test-tab').forEach((t, i) => t.classList.toggle('active', i+1===n));
  document.querySelectorAll('.test-list-sidebar a').forEach((a, i) => a.classList.toggle('active', i+1===n));
}

function setLang(lang, btn) {
  currentLang = lang;
  document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  resetTest();
}

function getPassage() {
  const list = passages[currentLang];
  const idx = (currentTest - 1) % list.length;
  return list[idx];
}

function renderPassage(typed) {
  const passage = getPassage();
  const box = document.getElementById('passageDisplay');
  let html = '';
  for (let i = 0; i < passage.length; i++) {
    if (i < typed.length) {
      if (typed[i] === passage[i]) {
        html += `<span class="char-correct">${escHtml(passage[i])}</span>`;
      } else {
        html += `<span class="char-wrong">${escHtml(passage[i])}</span>`;
      }
    } else if (i === typed.length) {
      html += `<span class="char-current">${escHtml(passage[i])}</span>`;
    } else {
      html += `<span>${escHtml(passage[i])}</span>`;
    }
  }
  box.innerHTML = html;
}

function escHtml(c) {
  if (c === ' ') return '&nbsp;';
  if (c === '<') return '&lt;';
  if (c === '>') return '&gt;';
  return c;
}

function updateStats(typed) {
  const passage = getPassage();
  let mistakes = 0;
  for (let i = 0; i < typed.length; i++) {
    if (typed[i] !== passage[i]) mistakes++;
  }

  const wordsTyped = typed.trim().split(/\s+/).filter(w => w).length;
  const elapsed = (600 - timeLeft) / 60 || 0.001;
  const wpm = Math.max(0, Math.round((wordsTyped - mistakes) / elapsed));
  const accuracy = typed.length === 0 ? 100 : Math.round(((typed.length - mistakes) / typed.length) * 100);
  const progress = Math.round((typed.length / passage.length) * 100);

  document.getElementById('wpmDisplay').textContent = wpm;
  document.getElementById('errDisplay').textContent = mistakes;
  document.getElementById('accDisplay').textContent = accuracy + '%';
  document.getElementById('progressFill').style.width = Math.min(progress, 100) + '%';
  document.getElementById('progressLabel').textContent = Math.min(progress, 100) + '%';

  // Auto-finish if passage complete
  if (typed.length >= passage.length) {
    finishTest();
  }
}

function formatTime(s) {
  const m = Math.floor(s / 60);
  const sec = s % 60;
  return m + ':' + (sec < 10 ? '0' : '') + sec;
}

function startTest() {
  if (testStarted) return;
  testStarted = true;
  testFinished = false;
  document.getElementById('startBtn').disabled = true;
  document.getElementById('typeInput').disabled = false;
  document.getElementById('typeInput').focus();
  document.getElementById('resultPanel').className = 'result-panel';
  renderPassage('');

  startTime = Date.now();
  timer = setInterval(() => {
    timeLeft--;
    document.getElementById('timerDisplay').textContent = formatTime(timeLeft);
    if (timeLeft <= 0) finishTest();
  }, 1000);
}

function finishTest() {
  if (testFinished) return;
  testFinished = true;
  clearInterval(timer);
  document.getElementById('typeInput').disabled = true;

  const typed = document.getElementById('typeInput').value;
  const passage = getPassage();
  const elapsed = (Date.now() - startTime) / 1000;

  let mistakes = 0;
  const words = typed.trim().split(/\s+/).filter(w => w);
  const passageWords = passage.trim().split(/\s+/);

  // Word-level mistake counting
  let correctWords = 0;
  for (let i = 0; i < words.length; i++) {
    if (i < passageWords.length && words[i] === passageWords[i]) correctWords++;
    else mistakes++;
  }

  const totalWords = words.length;
  const elapsedMin = elapsed / 60 || 0.001;
  const wpm = Math.max(0, Math.round((totalWords - mistakes) / elapsedMin));
  const accuracy = totalWords === 0 ? 0 : Math.round((correctWords / totalWords) * 100);
  const minSpeed = currentLang === 'en' ? 30 : 25;
  const passed = wpm >= minSpeed;

  const panel = document.getElementById('resultPanel');
  panel.className = 'result-panel show' + (passed ? '' : ' fail');
  document.getElementById('resultTitle').className = 'result-title ' + (passed ? 'pass' : 'fail');
  document.getElementById('resultTitle').textContent = passed ? 'üéâ Test Passed!' : '‚ùå Test Failed';
  document.getElementById('resultMsg').textContent = passed
    ? `Excellent! Your speed of ${wpm} WPM meets the Hartron Typing Test Master requirement.`
    : `Your speed of ${wpm} WPM is below the minimum requirement of ${minSpeed} WPM. Keep practicing!`;

  document.getElementById('r-wpm').textContent = wpm;
  document.getElementById('r-mistakes').textContent = mistakes;
  document.getElementById('r-accuracy').textContent = accuracy + '%';
  document.getElementById('r-cw').textContent = correctWords;
  document.getElementById('r-tw').textContent = totalWords;
  document.getElementById('r-time').textContent = Math.round(elapsed) + 's';
}

function resetTest() {
  clearInterval(timer);
  testStarted = false;
  testFinished = false;
  timeLeft = 600;
  document.getElementById('timerDisplay').textContent = '10:00';
  document.getElementById('wpmDisplay').textContent = '0';
  document.getElementById('errDisplay').textContent = '0';
  document.getElementById('accDisplay').textContent = '100%';
  document.getElementById('progressFill').style.width = '0%';
  document.getElementById('progressLabel').textContent = '0%';
  document.getElementById('typeInput').value = '';
  document.getElementById('typeInput').disabled = true;
  document.getElementById('startBtn').disabled = false;
  document.getElementById('resultPanel').className = 'result-panel';
  renderPassage('');
  document.getElementById('passageDisplay').textContent = 'Click "Start Test" to begin your typing test. The passage will appear here and you will type in the box below.';
}

function nextTest() {
  currentTest = (currentTest % testCount) + 1;
  selectTest(currentTest);
}

// Live typing update
document.addEventListener('DOMContentLoaded', () => {
  buildTabs();
  document.getElementById('typeInput').addEventListener('input', (e) => {
    if (!testStarted || testFinished) return;
    const typed = e.target.value;
    renderPassage(typed);
    updateStats(typed);
  });
});
</script>
</body>
</html>
